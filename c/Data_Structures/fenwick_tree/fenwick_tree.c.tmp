#include <fenwick_tree.h>

int f[] = {0, 1, 0, 2, 1, 1, 3, 0, 4, 2, 5, 2, 2, 3, 1, 0, 2};
int tree[] = {0, 1, 1, 2, 4, 1, 4, 0, 12, 2,7, 2, 11, 3, 4, 0, 29};

int read (int idx)
{
	int sum = 0;

	while (idx > 0) {
		sum += tree[idx];
		idx -= (idx & -idx);
	}

	return sum;
}

void update (int ftree[], int len, int idx, int val)
{
	while (idx <= len) {
		ftree [idx] += val;
		idx += (idx & -idx);
	}
}


void construct_tree_from_frequencies (int f[])
{
	int tmp_tree[18] = {0};
	int i = 0;

	for (i=1; i<17; i++)
		update(tmp_tree, 17, i, f[i]);

	for(i=0; i<17; i++)
		printf("%d ", tmp_tree[i]);

	printf("\n");

}

int main(void)
{
	printf("%d\n", read(13));

	construct_tree_from_frequencies(f);

	return 0;
}
